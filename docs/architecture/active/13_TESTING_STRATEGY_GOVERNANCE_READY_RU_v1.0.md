# SoftFocus — Стратегия тестирования
## Governance & READY FOR DEPLOY

Version: v1.0  
Status: ACTIVE  
Scope: Governance-скрипты, READY FOR DEPLOY, авторизация релизов  
Locale: RU  

---

## Назначение

Данная стратегия описывает, **как проверяется работоспособность всей системы governance**
в проекте SoftFocus.

Стратегия не направлена на тестирование прикладного кода.
Её цель — **доказать управляемость системы**.

---

## Цели стратегии

Стратегия предназначена для проверки:

- governance-скриптов;
- правил и инвариантов;
- архитектурных блокировок;
- классификации READY FOR DEPLOY;
- человеческих решений (Human Override);
- авторизации релизов.

---

## Что считается тестом

Тест — это **один полный, линейный RUN governance-флоу**,
который:

- выполняется детерминированно;
- имеет уникальный RUN_ID;
- зафиксирован в логах;
- завершён READY-классификацией.

Частичные проверки **не считаются тестом**.

---

## Области покрытия

Каждый тест **обязан** покрывать следующие области:

1. Состояние репозитория  
   - чистота git-рабочего дерева;
   - отсутствие незафиксированных изменений.

2. Валидация контента  
   - соответствие структурным правилам;
   - отсутствие дрейфа терминологии.

3. Архитектурные lock’и  
   - неизменность зафиксированных фаз;
   - контроль контрольных сумм.

4. Детерминизм сборки  
   - воспроизводимость;
   - отсутствие скрытых побочных эффектов.

5. READY-классификация  
   - STRUCTURAL FAIL;
   - LOW RISK;
   - READY FOR DEPLOY.

6. Человеческие решения  
   - допустимость override;
   - фиксация в аудите.

7. Авторизация релиза  
   - разрешение или блокировка.

---

## Типы тестовых сценариев

Все сценарии имеют формальный идентификатор.

### Категории сценариев

- `TS-READY-BASE-*`  
  Базовые проверки готовности.

- `TS-READY-LOW-*`  
  Сценарии с LOW RISK и Human Override.

- `TS-READY-FAIL-*`  
  Сценарии с жёсткими блокировками.

- `TS-RELEASE-*`  
  Сценарии авторизации релизов из тега.

---

## Инварианты (ЖЁСТКИЕ ПРАВИЛА)

Следующие правила **не подлежат нарушению**:

- все логи являются append-only;
- логи никогда не редактируются;
- один RUN соответствует одной директории;
- тесты не модифицируют прошлые RUN’ы;
- отсутствие логов не блокирует выполнение,
  но блокирует governance.

---

## Связь со скриптами

Каждый тестовый сценарий **обязан** ссылаться
на конкретные исполняемые скрипты, включая:

- `stage-runner-linear.sh`
- `tests/offline/ready-for-deploy.sh`
- `scripts/helpers/*`
- `scripts/locks/*`
- `scripts/release/*`

Обход данных скриптов запрещён.

---

## Результат стратегии

Данная стратегия позволяет:

- воспроизводить решения задним числом;
- анализировать риск во времени;
- обнаруживать деградацию governance;
- доказывать, что релизы контролируемы.

---

## Финальное положение

Стратегия тестирования является
**неотъемлемой частью архитектуры SoftFocus**.

Любые изменения требуют:
- новой версии документа;
- пересмотра governance-скриптов;
- повторного подтверждения READY.

